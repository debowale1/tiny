<div class="container-fluid">
  <div class="row">
    <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
      <div class="position-sticky pt-3">
        <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
          <span>Posts</span>
          <a class="link-secondary" href="#" aria-label="Add a new report">
            <span data-feather="plus-circle"></span>
          </a>
        </h6>
        <ul class="nav flex-column">
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="/tiny-admin/all-posts">
              <span data-feather="file-text"></span>
              All Posts 
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="/tiny-admin/add-post">
              <span data-feather="plus-circle"></span>
              Add New
            </a>
          </li>
        </ul>
        <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
          <span>Categories</span>
          <a class="link-secondary" href="#" aria-label="Add a new report">
            <span data-feather="plus-circle"></span>
          </a>
        </h6>
        <ul class="nav flex-column">
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="/tiny-admin/category">
              <span data-feather="home"></span>
              Categories
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="/tiny-admin/tags">
              <span data-feather="home"></span>
              Tags
            </a>
          </li>
        </ul>

        <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
          <span>Users</span>
          <a class="link-secondary" href="#" aria-label="Add a new report">
            <span data-feather="users"></span>
          </a>
        </h6>
        <ul class="nav flex-column mb-2">
          <li class="nav-item">
            <a class="nav-link" href="#">
              <span data-feather="file-text"></span>
              All Users
            </a>
          </li>
        </ul>
      </div> 
      
    </nav>

    
    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
      <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h1 class="h2">Dashboard</h1>
        <div class="btn-toolbar mb-2 mb-md-0">
          <div class="btn-group me-2">
            <button type="button" class="btn btn-sm btn-outline-secondary">Share</button>
            <button type="button" class="btn btn-sm btn-outline-secondary">Export</button>
          </div>
          <button type="button" class="btn btn-sm btn-outline-secondary dropdown-toggle">
            <span data-feather="calendar"></span>
            This week
          </button>
        </div>
      </div>
      <!-- CONTENT  -->
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="/tiny-admin">Admin</a></li>
          <li class="breadcrumb-item"><a href="/tiny-admin">Posts</a></li>
          <li class="breadcrumb-item active" aria-current="page">All Posts</li>
        </ol>
      </nav>
      <div class="row">
        <div class="col-12">
          <% if(typeof posts === 'undefined' || posts.length <= 0) {%> 
            <h4>No posts</h4>
          <% }else{ %> 
            <div class="table-responsive">
              <table class="table table-hover">
                <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">Title</th>
                    <th scope="col">Auhtor</th>
                    <th scope="col">Category</th>
                    <th scope="col">Date</th>
                    <th scope="col">Action</th>
                  </tr>
                </thead>
                <tbody>
                    <% posts.forEach((post, index) => { %> 
                      <tr>
                        <td><%= index+1 %></td>
                        <td><a href="/<%= post.slug %>"><h6><%= post.title %></h6></a></td>
                        <td><a href="/user/<%= post.author %>"><%= post.author %></a></td>
                        <td><a href="/category/<%= post.category.name %>"><%= post.category.name %></a></td>
                        <td>published<br/> <%= post.createdAt.toLocaleString('en-US', { month: 'long', day: 'numeric'}) %></td>
                        <td>
                          <div class="btn-group">
                            <button type="button" class="btn btn-sm btn-outline-secondary"><i class="bi bi-pencil"></i> Edit</button>
                            <button type="button" class="btn btn-sm btn-outline-danger"> <i class="bi bi-trash"></i> Trash</button>
                          </div>
                        </td>
                      </tr>
                    <% }) %> 
                </tbody>
              </table>
            </div>
          
          <% } %> 
          <!-- pagination  -->
          <nav aria-label="Page navigation example">
            <ul class="pagination justify-content-end">
              <li class="page-item">
                <a class="page-link" href="#" aria-label="Previous">
                  <span aria-hidden="true">&laquo;</span>
                </a>
              </li>
              <li class="page-item"><a class="page-link" href="#">1</a></li>
              <li class="page-item"><a class="page-link" href="#">2</a></li>
              <li class="page-item"><a class="page-link" href="#">3</a></li>
              <li class="page-item">
                <a class="page-link" href="#" aria-label="Next">
                  <span aria-hidden="true">&raquo;</span>
                </a>
              </li>
            </ul>
          </nav>
        </div>
        <!-- <div class="col-3">
          <div class="position-sticky" style="top: 2rem;">
            <div class="p-4 mb-3 bg-light rounded">
              <h4 class="fst-italic">About</h4>
              <p class="mb-0">Tiny is a blog app.</p>
            </div>
          </div>
        </div> -->
      </div>
      <!-- END CONTENT  -->
    </main>
  </div>
</div>

